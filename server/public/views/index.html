<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/stylesheets/bootstrap.min.css">

    <title>Videos!</title>
</head>
<body ng-controller="myCtrl">
<div class="container">
    <h1>Hello World!</h1>

    <form name="newVideoForm" ng-submit="newVideo(video)" class="form-inline">
        <div class="form-group">
            <label for="videoTitle">Title</label>
            <input type="text" class="form-control" ng-model="video.title" id="videoTitle"
                   placeholder="Enter Video Title" required>

            <label for="videoUrl">Add a Video!</label>
            <input type="url" class="form-control" ng-model="video.url" id="videoUrl" placeholder="Enter Video URL"
                   required>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>

    <table class="table table-hover table-condensed">
    <thead>
    <tr>
        <th>
            #
        </th>
        <th>
            Video Title
        </th>
        <th>
            <button class="btn btn-default" ng-click="order('view_tally')">Total Views</button>
        </th>
        <th>
            <button class="btn btn-default" ng-click="order('vote_tally')">Total Votes</button>
        </th>
        <th>
            Vote
        </th>
        <th>
            Date Added
        </th>
    </tr>
    </thead>
        <tbody>
    <tr ng-repeat="video in videos">
        <td>{{$index+1 + " "}}</td>
        <td class="text-uppercase"><a ng-click="viewOne(video)" ng-href="{{video.attributes.url}}" target="_blank">{{video.attributes.title}}</a></td>
        <td>{{video.attributes.view_tally}}</td>
        <td>{{video.attributes.vote_tally + ' Votes'}}</td>
        <td><div class="btn-group btn-group-xs" role="group"><button class="btn btn-success" ng-click="voteOne(video, 1)"><span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
        </button><button class="btn btn-danger" ng-click="voteOne(video, -1)"><span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span></button></div></td>
        <td>{{video.attributes.created_at | date:'short'}}</td>
    </tr>
        </tbody>
        <tfoot><tr></tr></tfoot>
    </table>
</div>

<script src="/scripts/angular.min.js"></script>
<script src="/scripts/app.js"></script>
</body>
</html>
